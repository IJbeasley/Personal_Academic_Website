[build]
publish = "public"
command = "hugo -b $DEPLOY_PRIME_URL --buildFuture && cp _redirects.txt /opt/build/repo/public/_redirects && mv robots_prod.txt robots.txt"

[build.environment]
HUGO_VERSION = "0.80.0"

[[plugins]]

package = "@netlify/plugin-sitemap"

  [plugins.inputs]
  
  buildDir = "public"
  
  # change sitemap index url
  baseUrl = "https://isobelbeasley.com"

  # default change in site: 
  changeFreq =  "monthly"
  priority = 0.5
  
  prettyURLs = true
  # Append missing trailing slash to pretty URL
  trailingSlash = true


  exclude = [           
    # Files in post subfolder (old - not used in this website)
    './posts/**',
    './publication_themes/**',

    # icons
    '/favicon.ico'
  ]

[[plugins.inputs.customEntries]]
  url = "/"
  changefreq = "yearly"
  priority = 1.0

[[plugins.inputs.customEntries]]
  url = "/vce-biology/"
  changefreq = "weekly"
  priority = 0.8

[[plugins.inputs.customEntries]]
  url = "/research/"
  changefreq = "monthly"
  priority = 0.8
  
[context.production.environment]
HUGO_VERSION = "0.80.0"
HUGO_ENV = "production"
HUGO_ENABLEGITINFO = "true"

command = "hugo -b $DEPLOY_PRIME_URL --buildFuture && mv robots_prod.txt robots.txt"

# netlify.toml (non-production environment)
[context.deploy-preview]
command = "hugo -b $DEPLOY_PRIME_URL --buildFuture && mv robots_non_prod.txt robots.txt"

[context.branch-deploy]
command = "hugo -b $DEPLOY_PRIME_URL --buildFuture && mv robots_non_prod.txt robots.txt"

